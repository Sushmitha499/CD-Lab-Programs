//write a c program to implement lexical analyzer

program:
// lex.c
#include <stdio.h>
#include <ctype.h>
#include <string.h>

int isKeyword(char *word)
{
    char keywords[7][10] = {"int", "float", "if", "else", "while", "for", "return"};
    for (int i = 0; i < 7; i++)
    {
        if (strcmp(word, keywords[i]) == 0)
            return 1;
    }
    return 0;
}

int main()
{
    FILE *fp = fopen("lexical.txt", "r");
    char ch, buffer[20];
    int j = 0;

    if (!fp)
    {
        printf("Cannot open file.\n");
        return 0;
    }

    while ((ch = fgetc(fp)) != EOF)
    {
        if (isalnum(ch))
        {
            buffer[j++] = ch;
        }
        else if (ch == ' ' || ch == '\n' || ch == ';' || ch == ',' ||
                 ch == '(' || ch == ')' || ch == '{' || ch == '}')
        {
            if (j != 0)
            {
                buffer[j] = '\0';
                j = 0;

                if (isKeyword(buffer))
                    printf("Keyword: %s\n", buffer);
           else if (isdigit(buffer[0]))
           printf("number :%s\n", buffer);
           else
           printf("Identifier:%s\n", buffer);
            }
            if(strchr("=+-*/;(){}", ch);
        }
    }

    fclose(fp);
    return 0;
}
